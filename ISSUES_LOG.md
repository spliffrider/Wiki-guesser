# ISSUES LOG

| Date | Project | Issue | Root Cause | Solution |
|------|---------|-------|------------|----------|
| 2025-12-23 | Wiki Guesser | **Security Definer View (CRITICAL)** - Supabase advisor flagged `leaderboard_alltime`, `leaderboard_daily`, `leaderboard_weekly` views | Views created without explicit `security_invoker` default to `SECURITY DEFINER`, which bypasses RLS policies and runs with creator's permissions | Recreate views with `WITH (security_invoker = true)` clause. Example: `CREATE VIEW view_name WITH (security_invoker = true) AS SELECT ...`. Also grant SELECT to `authenticated, anon` roles. |
| 2025-12-23 | Wiki Guesser | **Function Search Path Mutable (WARN)** - Supabase advisor flagged `handle_new_user` and `update_profile_stats` functions | Functions without `SET search_path` can be exploited via schema injection attacks | Recreate functions with `SET search_path = ''` and use fully qualified table names (e.g., `public.profiles`). Example: `CREATE OR REPLACE FUNCTION fn() ... SECURITY DEFINER SET search_path = '' AS $$ ... public.table_name ... $$;` |
| 2025-12-23 | Wiki Guesser | **Extension in Public (WARN)** - Supabase advisor flagged `vector` extension in public schema | Extensions in public schema can pose security risks and clutter the namespace | Move extension to dedicated `extensions` schema: `CREATE SCHEMA IF NOT EXISTS extensions; DROP EXTENSION IF EXISTS vector; CREATE EXTENSION vector SCHEMA extensions; GRANT USAGE ON SCHEMA extensions TO authenticated, anon, service_role;` |
| 2025-12-23 | Wiki Guesser | **Leaked Password Protection Disabled (WARN)** - Supabase advisor flagged auth config | Default Supabase config doesn't check passwords against known breaches | **Paid tier only** - Not available on free tier. Can safely ignore this warning. If upgrading later: Dashboard → Authentication → Providers → Email → Enable "Leaked Password Protection". |

